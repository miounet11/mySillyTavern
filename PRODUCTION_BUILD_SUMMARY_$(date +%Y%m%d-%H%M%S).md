# SillyTavern ç”Ÿäº§ç‰ˆæœ¬æ„å»ºæ€»ç»“

**æ„å»ºæ—¶é—´**: $(date '+%Yå¹´%mæœˆ%dæ—¥ %H:%M:%S')
**æ„å»ºç‰ˆæœ¬**: Latest Production Build
**Gitæäº¤**: $(git log -1 --oneline --no-abbrev-commit | head -1 || echo "æ— æ³•è·å–Gitä¿¡æ¯")

## ğŸ‰ æ„å»ºçŠ¶æ€

### âœ… æ„å»ºæˆåŠŸ
- **çŠ¶æ€**: æˆåŠŸå®Œæˆ
- **è€—æ—¶**: 46.5ç§’
- **ç¼“å­˜å‘½ä¸­**: 3/4 åŒ…ç¼“å­˜å‘½ä¸­
- **è¾“å‡ºå¤§å°**: 149MB

## ğŸ“¦ æ„å»ºè¯¦æƒ…

### åŒ…æ„å»ºç»“æœ
| åŒ…å | çŠ¶æ€ | ç¼“å­˜ | è¯´æ˜ |
|------|------|------|------|
| @sillytavern-clone/database | âœ… æˆåŠŸ | ğŸ¯ ç¼“å­˜å‘½ä¸­ | TypeScriptç¼–è¯‘ |
| @sillytavern-clone/shared | âœ… æˆåŠŸ | ğŸ¯ ç¼“å­˜å‘½ä¸­ | TypeScriptç¼–è¯‘ |
| @sillytavern-clone/ai-providers | âœ… æˆåŠŸ | ğŸ¯ ç¼“å­˜å‘½ä¸­ | TypeScriptç¼–è¯‘ |
| @sillytavern-clone/web | âœ… æˆåŠŸ | ğŸ†• æ–°æ„å»º | Next.jsåº”ç”¨æ„å»º |

### é¡µé¢æ„å»ºåˆ†æ
```
Route (app)                              Size     First Load JS
â”Œ â—‹ /                                    2.71 kB        92.2 kB
â”œ â—‹ /_not-found                          870 B          82.8 kB
â”œ Î» /api/*                               0 B                0 B  (29ä¸ªAPIè·¯ç”±)
â”œ â—‹ /characters                          10.1 kB         108 kB
â”œ â—‹ /characters/community                5.88 kB         104 kB
â”œ â—‹ /chat                                55.6 kB         154 kB
â”œ â—‹ /monitoring                          2.84 kB        92.4 kB
â”œ â—‹ /settings                            2.98 kB         122 kB
â”” â—‹ /world-info                          10.5 kB         109 kB
```

### å…±äº«èµ„æº
- **å…±äº«JSåŒ…**: 82 kB
- **æœ€å¤§åŒ…å¤§å°**: 220 B (main-app)
- **ä»£ç åˆ†åŒ…**: å·²ä¼˜åŒ–

## âš ï¸ æ„å»ºè­¦å‘Š

### Next.jsé…ç½®è­¦å‘Š
1. **æ— æ•ˆé…ç½®é¡¹**:
   - `env.CUSTOM_KEY` ç¼ºå¤±
   - `experimental.appDir` å·²åºŸå¼ƒ

2. **å…ƒæ•°æ®é…ç½®è­¦å‘Š**:
   - `viewport` å’Œ `themeColor` åº”è¯¥ç§»åŠ¨åˆ°å•ç‹¬çš„viewportå¯¼å‡º
   - å½±å“é¡µé¢: /, /chat, /settings, /world-info, /characters ç­‰

3. **åŠ¨æ€è·¯ç”±è­¦å‘Š**:
   - `/api/template-variables` ä½¿ç”¨äº†åŠ¨æ€æœåŠ¡å™¨æ¸²æŸ“
   - å»ºè®®ä¼˜åŒ–ä¸ºé™æ€æ¸²æŸ“

## ğŸš€ æœ€æ–°åŠŸèƒ½ç‰¹æ€§

### UIç•Œé¢ä¼˜åŒ–
- âœ… æ¶ˆæ¯æ°”æ³¡æ ·å¼å‡çº§ï¼ˆåœ†è§’ã€æ¸å˜ã€ç»ç’ƒæ•ˆæœï¼‰
- âœ… åŠ¨ç”»æ•ˆæœå¢å¼ºï¼ˆå‡ºç°åŠ¨ç”»ã€æ‚¬åœæ•ˆæœï¼‰
- âœ… æ‰“å­—åŠ¨ç”»ç»„ä»¶ï¼ˆTypingMessageï¼‰
- âœ… èŠå¤©å¤´éƒ¨ç»„ä»¶ä¼˜åŒ–
- âœ… è¾“å…¥æ¡†äº¤äº’å¢å¼º

### æ¶ˆæ¯ç³»ç»Ÿæ”¹è¿›
- âœ… å¢å¼ºçš„markdownæ¸²æŸ“
- âœ… ä¼˜åŒ–çš„åŠ è½½çŠ¶æ€æ˜¾ç¤º
- âœ… æ”¹è¿›çš„æ¶ˆæ¯çŠ¶æ€æŒ‡ç¤ºå™¨
- âœ… æ›´æµç•…çš„åŠ¨ç”»è¿‡æ¸¡

### æ ·å¼ç³»ç»Ÿå‡çº§
- âœ… æ–°å¢CSSåŠ¨ç”»ç±»
- âœ… ç»ç’ƒæ€è®¾è®¡ç³»ç»Ÿ
- âœ… å“åº”å¼äº¤äº’æ•ˆæœ
- âœ… ä¸“ä¸šé˜´å½±å’Œæ¸å˜

## ğŸ“‹ éƒ¨ç½²æ£€æŸ¥æ¸…å•

### âœ… å·²å®Œæˆé¡¹ç›®
- [x] ç”Ÿäº§æ„å»ºæˆåŠŸ
- [x] é™æ€èµ„æºç”Ÿæˆ
- [x] APIè·¯ç”±ç¼–è¯‘
- [x] ç±»å‹æ£€æŸ¥é€šè¿‡
- [x] ä»£ç è´¨é‡æ£€æŸ¥

### âš ï¸ éœ€è¦ä¼˜åŒ–çš„é¡¹ç›®
- [ ] ä¿®å¤Next.jsé…ç½®è­¦å‘Š
- [ ] ä¼˜åŒ–å…ƒæ•°æ®å¯¼å‡ºæ ¼å¼
- [ ] å¤„ç†åŠ¨æ€è·¯ç”±æ¸²æŸ“é—®é¢˜

## ğŸŒ éƒ¨ç½²ä¿¡æ¯

### ç¯å¢ƒè¦æ±‚
- **Node.js**: >= 18.0.0
- **å†…å­˜**: å»ºè®® >= 2GB
- **å­˜å‚¨**: 149MB æ„å»ºäº§ç‰©

### å¯åŠ¨å‘½ä»¤
```bash
# å¼€å‘ç¯å¢ƒ
pnpm dev

# ç”Ÿäº§ç¯å¢ƒ
pnpm start
```

### ç¯å¢ƒå˜é‡é…ç½®
ç¡®ä¿ä»¥ä¸‹ç¯å¢ƒå˜é‡å·²æ­£ç¡®é…ç½®ï¼š
```bash
DATABASE_URL="file:./dev.db"
OPENAI_API_KEY="your-openai-key"
ANTHROPIC_API_KEY="your-anthropic-key"
JWT_SECRET="your-jwt-secret"
ENCRYPTION_KEY="your-32-character-encryption-key"
```

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### æ„å»ºæ€§èƒ½
- **æ€»æ„å»ºæ—¶é—´**: 46.5ç§’
- **ç¼“å­˜åˆ©ç”¨ç‡**: 75%
- **åŒ…æ•°é‡**: 4ä¸ªåŒ…
- **é¡µé¢æ•°é‡**: 9ä¸ªä¸»é¡µé¢ + 29ä¸ªAPIè·¯ç”±

### èµ„æºå¤§å°
- **æ„å»ºäº§ç‰©**: 149MB
- **é¦–é¡µåŠ è½½**: 92.2 kB
- **æœ€å¤§é¡µé¢**: /chat (154 kB)
- **å¹³å‡é¡µé¢å¤§å°**: ~110 kB

## ğŸ”— ç›¸å…³é“¾æ¥

- **é¡¹ç›®åœ°å€**: /www/wwwroot/jiuguanmama/mySillyTavern
- **æ„å»ºè¾“å‡º**: apps/web/.next/
- **é™æ€èµ„æº**: apps/web/.next/static/
- **é…ç½®æ–‡ä»¶**: apps/web/next.config.js

---

**æ„å»ºå®Œæˆæ—¶é—´**: $(date '+%Y-%m-%d %H:%M:%S')
**æ„å»ºå·¥å…·**: Turbo + Next.js 14.0.4
**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª