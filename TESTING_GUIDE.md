# åŠŸèƒ½æµ‹è¯•æŒ‡å—

## ğŸ¯ æµ‹è¯• SillyTavern å…¼å®¹åŠŸèƒ½

### 1. è§’è‰²å¯¼å…¥æµ‹è¯•

#### æµ‹è¯• JSON æ ¼å¼å¯¼å…¥

1. **è®¿é—®è§’è‰²åˆ—è¡¨é¡µé¢**
   - æ‰“å¼€ https://www.isillytavern.com/characters
   - ç‚¹å‡» **"Import Character"** æŒ‰é’®

2. **å¯¼å…¥æµ‹è¯•è§’è‰²**
   - ä» https://sillytavernchat.com ä¸‹è½½è§’è‰² JSON æ–‡ä»¶
   - æ‹–æ”¾æˆ–é€‰æ‹©æ–‡ä»¶ä¸Šä¼ 
   - éªŒè¯é¢„è§ˆä¿¡æ¯æ˜¾ç¤ºæ­£ç¡®
   - ç‚¹å‡» **"Import Character"** å®Œæˆå¯¼å…¥

3. **éªŒè¯å¯¼å…¥ç»“æœ**
   - æ£€æŸ¥è§’è‰²åç§°ã€æè¿°ã€æ€§æ ¼
   - æŸ¥çœ‹è§’è‰²å¤´åƒ
   - ç¡®è®¤æ ‡ç­¾æ­£ç¡®æ˜¾ç¤º

#### æµ‹è¯• PNG æ ¼å¼å¯¼å…¥

1. **ä¸‹è½½ PNG æ ¼å¼è§’è‰²å¡**
   - ä» SillyTavern ç¤¾åŒºæˆ–å…¶ä»–æ¥æºè·å– PNG è§’è‰²å¡
   - ç¡®ä¿ PNG åŒ…å«åµŒå…¥çš„è§’è‰²æ•°æ®

2. **å¯¼å…¥ PNG è§’è‰²å¡**
   - ä¸Šä¼  PNG æ–‡ä»¶
   - ç³»ç»Ÿåº”è‡ªåŠ¨æå–åµŒå…¥çš„è§’è‰²æ•°æ®
   - éªŒè¯é¢„è§ˆä¿¡æ¯

3. **æ£€æŸ¥å¤´åƒ**
   - PNG å›¾ç‰‡åº”è¯¥ä½œä¸ºè§’è‰²å¤´åƒ
   - ç¡®è®¤å¤´åƒæ¸…æ™°æ˜¾ç¤º

### 2. è§’è‰²å¯¼å‡ºæµ‹è¯•

#### å¯¼å‡ºä¸º JSON

1. **é€‰æ‹©å·²æœ‰è§’è‰²**
   - åœ¨è§’è‰²åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªè§’è‰²
   - ç‚¹å‡»è§’è‰²å¡ç‰‡å³ä¸Šè§’çš„èœå•
   - é€‰æ‹© **"Export as JSON"**

2. **éªŒè¯å¯¼å‡ºæ–‡ä»¶**
   - ä¸‹è½½çš„æ–‡ä»¶å‘½åæ ¼å¼: `è§’è‰²å.json`
   - ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€éªŒè¯ JSON æ ¼å¼
   - æ£€æŸ¥å¿…è¦å­—æ®µå­˜åœ¨

3. **é‡æ–°å¯¼å…¥æµ‹è¯•**
   - å°†å¯¼å‡ºçš„ JSON é‡æ–°å¯¼å…¥
   - éªŒè¯æ‰€æœ‰å­—æ®µä¿æŒä¸€è‡´

#### å¯¼å‡ºä¸º PNG

1. **å¯¼å‡º PNG è§’è‰²å¡**
   - é€‰æ‹©è§’è‰² â†’ å¯¼å‡º â†’ **"Export as PNG"**
   - ä¸‹è½½ PNG æ–‡ä»¶

2. **éªŒè¯ PNG æ–‡ä»¶**
   - PNG åº”åŒ…å«è§’è‰²å¤´åƒ
   - ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨/åå…­è¿›åˆ¶ç¼–è¾‘å™¨æ£€æŸ¥æ˜¯å¦æœ‰ tEXt å—

3. **å¯¼å…¥æµ‹è¯•**
   - é‡æ–°å¯¼å…¥ PNG æ–‡ä»¶
   - éªŒè¯æ•°æ®å®Œæ•´æ€§

### 3. å¯¹è¯åˆå§‹åŒ–æµ‹è¯•

#### è‡ªåŠ¨é—®å€™åŠŸèƒ½

1. **åˆ›å»ºæ–°å¯¹è¯**
   - é€‰æ‹©ä¸€ä¸ªè§’è‰²
   - ç‚¹å‡» **"Start Chat"** æˆ– **"New Chat"**

2. **éªŒè¯è‡ªåŠ¨é—®å€™**
   - å¯¹è¯çª—å£åº”è¯¥ç«‹å³æ˜¾ç¤ºè§’è‰²çš„é—®å€™è¯­
   - é—®å€™è¯­åº”è¯¥æ˜¯è§’è‰²çš„ `firstMessage` å­—æ®µå†…å®¹
   - æ¶ˆæ¯æ ‡è®°ä¸º `assistant` è§’è‰²

3. **æµ‹è¯•ç”¨æˆ·å¼€åœºç™½æ¨¡æ¿**
   - å¦‚æœå¯ç”¨ï¼Œè¾“å…¥æ¡†åº”è¯¥é¢„å¡«å……ç”¨æˆ·å¼€åœºç™½æ¨¡æ¿
   - æ¨¡æ¿åº”è¯¥æ›¿æ¢ `{{user}}`, `{{char}}`, `{{scenario}}` å ä½ç¬¦
   - ä¾‹å¦‚: "ä½ å¥½ï¼Œæå…‰æµ·åŸŸï¼æˆ‘æ˜¯ç”¨æˆ·ã€‚"

#### è®¾ç½®è‡ªå®šä¹‰æ¨¡æ¿

1. **æ‰“å¼€è®¾ç½®**
   - ç‚¹å‡»å³ä¸Šè§’é½¿è½®å›¾æ ‡
   - è¿›å…¥ **"ç•Œé¢"** æ ‡ç­¾

2. **é…ç½®ç”¨æˆ·å¼€åœºç™½æ¨¡æ¿**
   ```
   ä½ å¥½ï¼Œ{{char}}ï¼æˆ‘æ˜¯{{user}}ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ ã€‚{{scenario}}
   ```

3. **æµ‹è¯•æ¨¡æ¿**
   - åˆ›å»ºæ–°å¯¹è¯
   - éªŒè¯å ä½ç¬¦è¢«æ­£ç¡®æ›¿æ¢

#### ç¦ç”¨è‡ªåŠ¨é—®å€™

1. **å…³é—­è‡ªåŠ¨é—®å€™**
   - è®¾ç½® â†’ ç•Œé¢ â†’ **"è‡ªåŠ¨å‘é€è§’è‰²é—®å€™è¯­"** â†’ å…³é—­

2. **æµ‹è¯•æ•ˆæœ**
   - åˆ›å»ºæ–°å¯¹è¯
   - å¯¹è¯åº”è¯¥æ˜¯ç©ºçš„ï¼Œä¸è‡ªåŠ¨å‘é€é—®å€™
   - ä»…æ˜¾ç¤ºç”¨æˆ·å¼€åœºç™½æ¨¡æ¿

### 4. å­—æ®µå®Œæ•´æ€§æµ‹è¯•

#### éªŒè¯ V2 å­—æ®µæ”¯æŒ

æµ‹è¯•ä»¥ä¸‹å­—æ®µæ˜¯å¦æ­£ç¡®å¯¼å…¥/å¯¼å‡º:

- [x] **åŸºç¡€å­—æ®µ**
  - `name` - è§’è‰²åç§°
  - `description` - è§’è‰²æè¿°
  - `personality` - æ€§æ ¼ç‰¹å¾
  - `scenario` - åœºæ™¯è®¾å®š

- [x] **å¯¹è¯ç›¸å…³**
  - `first_mes` - ç¬¬ä¸€æ¡æ¶ˆæ¯/é—®å€™è¯­
  - `mes_example` - å¯¹è¯ç¤ºä¾‹
  - `alternate_greetings` - å¤‡ç”¨é—®å€™è¯­

- [x] **é«˜çº§å­—æ®µ**
  - `system_prompt` - ç³»ç»Ÿæç¤ºè¯
  - `post_history_instructions` - å†å²åæŒ‡ä»¤
  - `creator_notes` - åˆ›ä½œè€…å¤‡æ³¨

- [x] **è§’è‰²ä¹¦**
  - `character_book` - ä¸–ç•Œä¿¡æ¯/è§’è‰²ä¹¦
  - æ£€æŸ¥ entries, name, description

- [x] **å…ƒæ•°æ®**
  - `creator` - åˆ›ä½œè€…
  - `character_version` - ç‰ˆæœ¬å·
  - `tags` - æ ‡ç­¾
  - `extensions` - æ‰©å±•å­—æ®µ

### 5. å…¼å®¹æ€§æµ‹è¯•

#### ä» SillyTavern å¯¼å…¥è§’è‰²

æµ‹è¯•ä»¥ä¸‹æ¥æºçš„è§’è‰²:

1. **sillytavernchat.com**
   - ä¸‹è½½å®˜æ–¹ç¤¾åŒºè§’è‰²
   - å¯¼å…¥åˆ° isillytavern.com
   - éªŒè¯å®Œæ•´æ€§

2. **æœ¬åœ° SillyTavern**
   - ä»æœ¬åœ° SillyTavern å¯¼å‡ºè§’è‰²
   - å¯¼å…¥åˆ° isillytavern.com
   - åˆ›å»ºå¯¹è¯æµ‹è¯•

3. **ç¬¬ä¸‰æ–¹è§’è‰²ç½‘ç«™**
   - Chub.ai
   - character.ai å¯¼å‡ºæ ¼å¼
   - å…¶ä»–æ ¼å¼

### 6. é”™è¯¯å¤„ç†æµ‹è¯•

#### æµ‹è¯•è¾¹ç•Œæƒ…å†µ

1. **æ— æ•ˆæ–‡ä»¶**
   - ä¸Šä¼ ç©ºæ–‡ä»¶ â†’ åº”æ˜¾ç¤ºé”™è¯¯
   - ä¸Šä¼ é JSON/PNG æ–‡ä»¶ â†’ åº”æ‹’ç»
   - ä¸Šä¼ æŸåçš„ JSON â†’ åº”æ˜¾ç¤ºè§£æé”™è¯¯

2. **ç¼ºå¤±å­—æ®µ**
   - å¯¼å…¥ç¼ºå°‘ `name` å­—æ®µçš„è§’è‰² â†’ åº”ä½¿ç”¨é»˜è®¤åç§°
   - ç¼ºå°‘ `description` â†’ åº”ä½¿ç”¨ç©ºæè¿°
   - ç¼ºå°‘ `first_mes` â†’ åº”æœ‰é»˜è®¤é—®å€™

3. **é‡å¤è§’è‰²å**
   - å¯¼å…¥å·²å­˜åœ¨çš„è§’è‰²å â†’ åº”è‡ªåŠ¨é‡å‘½å (ä¾‹: "è§’è‰²å (1)")
   - éªŒè¯è­¦å‘Šæç¤º

4. **å¤§æ–‡ä»¶**
   - ä¸Šä¼ è¶…å¤§ PNG (>10MB) â†’ åº”æœ‰æç¤º
   - è¶…é•¿æ–‡æœ¬å­—æ®µ â†’ åº”æ­£ç¡®å¤„ç†

## ğŸ§ª API æµ‹è¯•

### ä½¿ç”¨ curl æµ‹è¯• API

#### 1. å¥åº·æ£€æŸ¥
```bash
curl https://www.isillytavern.com/api/health
```

#### 2. å¯¼å…¥è§’è‰² (é¢„è§ˆæ¨¡å¼)
```bash
curl -X POST https://www.isillytavern.com/api/characters/import \
  -F "file=@character.json" \
  -F "commit=false"
```

#### 3. å¯¼å…¥è§’è‰² (æäº¤)
```bash
curl -X POST https://www.isillytavern.com/api/characters/import \
  -F "file=@character.json" \
  -F "commit=true"
```

#### 4. å¯¼å‡ºè§’è‰² (JSON)
```bash
curl "https://www.isillytavern.com/api/characters/{characterId}/export?format=json" \
  -o exported-character.json
```

#### 5. å¯¼å‡ºè§’è‰² (PNG)
```bash
curl "https://www.isillytavern.com/api/characters/{characterId}/export?format=png" \
  -o exported-character.png
```

#### 6. è·å–è§’è‰²åˆ—è¡¨
```bash
curl https://www.isillytavern.com/api/characters
```

## ğŸ“Š æµ‹è¯•æ£€æŸ¥æ¸…å•

### æ ¸å¿ƒåŠŸèƒ½
- [ ] JSON è§’è‰²å¯¼å…¥æˆåŠŸ
- [ ] PNG è§’è‰²å¯¼å…¥æˆåŠŸ
- [ ] é¢„è§ˆæ¨¡å¼å·¥ä½œæ­£å¸¸
- [ ] è§’è‰²å¯¼å‡ºä¸º JSON
- [ ] è§’è‰²å¯¼å‡ºä¸º PNG
- [ ] è‡ªåŠ¨é—®å€™è¯­å‘é€
- [ ] ç”¨æˆ·å¼€åœºç™½æ¨¡æ¿æ¸²æŸ“
- [ ] å ä½ç¬¦æ­£ç¡®æ›¿æ¢

### å­—æ®µéªŒè¯
- [ ] æ‰€æœ‰ v2 å­—æ®µæ­£ç¡®å¯¼å…¥
- [ ] æ‰€æœ‰ v2 å­—æ®µæ­£ç¡®å¯¼å‡º
- [ ] è§’è‰²ä¹¦æ•°æ®ä¿æŒå®Œæ•´
- [ ] å¤‡ç”¨é—®å€™è¯­åˆ—è¡¨æ­£ç¡®
- [ ] å¯¹è¯ç¤ºä¾‹æ­£ç¡®è§£æ

### ç”¨æˆ·ä½“éªŒ
- [ ] æ‹–æ”¾ä¸Šä¼ æµç•…
- [ ] é¢„è§ˆä¿¡æ¯æ¸…æ™°
- [ ] é”™è¯¯æç¤ºå‹å¥½
- [ ] è­¦å‘Šä¿¡æ¯æ˜ç¡®
- [ ] åŠ è½½çŠ¶æ€æ˜¾ç¤º

### è®¾ç½®ç•Œé¢
- [ ] è‡ªåŠ¨é—®å€™å¼€å…³å·¥ä½œ
- [ ] æ¨¡æ¿ç¼–è¾‘ä¿å­˜æˆåŠŸ
- [ ] å ä½ç¬¦è¯´æ˜æ¸…æ¥š
- [ ] è®¾ç½®æŒä¹…åŒ–

### å…¼å®¹æ€§
- [ ] SillyTavern å®˜æ–¹è§’è‰²å…¼å®¹
- [ ] ç¬¬ä¸‰æ–¹è§’è‰²å…¼å®¹
- [ ] æ—§ç‰ˆæœ¬æ ¼å¼å…¼å®¹
- [ ] å¯¼å‡ºæ ¼å¼å¯è¢« SillyTavern è¯†åˆ«

### æ€§èƒ½
- [ ] å¤§æ–‡ä»¶ä¸Šä¼ é€Ÿåº¦å¯æ¥å—
- [ ] é¢„è§ˆç”Ÿæˆå¿«é€Ÿ
- [ ] å¯¼å‡ºä¸‹è½½é€Ÿåº¦æ­£å¸¸
- [ ] UI å“åº”æµç•…

## ğŸ› å·²çŸ¥é—®é¢˜

### è­¦å‘Š (ä¸å½±å“åŠŸèƒ½)
- Next.js config ä¸­çš„ `CUSTOM_KEY` å’Œ `appDir` è­¦å‘Š
- Nginx é‡å¤ server_name è­¦å‘Š

### é™åˆ¶
- PNG æ–‡ä»¶å¤§å°é™åˆ¶ (æ ¹æ® Nginx é…ç½®)
- å¯¼å…¥/å¯¼å‡ºéœ€è¦æµè§ˆå™¨æ”¯æŒ File API

## ğŸ“ åé¦ˆæ”¶é›†

æµ‹è¯•å®Œæˆåï¼Œè¯·è®°å½•:
1. å‘ç°çš„ bug
2. ç”¨æˆ·ä½“éªŒé—®é¢˜
3. åŠŸèƒ½æ”¹è¿›å»ºè®®
4. æ€§èƒ½é—®é¢˜

---

**æµ‹è¯•ç¯å¢ƒ**: https://www.isillytavern.com
**æµ‹è¯•ç‰ˆæœ¬**: 1.0.0 (2025-10-27)
**éƒ¨ç½²çŠ¶æ€**: âœ… ç”Ÿäº§ç¯å¢ƒè¿è¡Œä¸­

